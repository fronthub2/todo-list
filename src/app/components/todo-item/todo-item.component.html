<app-loading-todo-items *ngIf="isLoading"></app-loading-todo-items>

<cdk-accordion *ngIf="!isLoading">
  <cdk-accordion-item
    #accordionItem="cdkAccordionItem"
    *ngFor="let item of noteData; let i = index"
  >
    <div class="item">
      <p class="item--text">{{ i + 1 }}. {{ item.title }}</p>
      <div class="item--buttons">
        <button
          class="button--edit"
          matTooltip="Редактировать"
          (click)="onEdit(i)"
        >
          &check;
        </button>
        <button
          class="button--delete"
          [matTooltip]="isDisableButton ? '' : 'Удалить'"
          [disabled]="isDisableButton"
          [style.opacity]="isDisableButton ? 0.5 : 1"
          (click)="onDelete(i)"
        >
          X
        </button>
        <button
          class="button--description"
          [matTooltip]="isDisableButton ? '' : 'Описание'"
          [disabled]="isDisableButton"
          [style.opacity]="isDisableButton ? 0.5 : 1"
          (click)="onDescription(i)"
          (click)="accordionItem.toggle()"
          [style.backgroundColor]="
            accordionItem.expanded ? 'black' : 'darkorchid'
          "
        >
          ?
        </button>
      </div>
    </div>
    <div
      *ngIf="accordionItem.expanded"
      class="item--description"
      [style.display]="accordionItem.expanded ? '' : 'none'"
    >
      {{ item.description || "--" }}
    </div>
  </cdk-accordion-item>
</cdk-accordion>
